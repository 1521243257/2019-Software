РПаЎ??                >  ?	                         ?яя    ?яя        яяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяя?яя                      	   
      ?яя                           ?яя                           ?яяI   "   #   $   %   &   '   (   )   *   ?яя,   -   .   /   0   1   2   3   4   ?яя6   7   8   9   :   ;   <   =   >   ?яя@   A   B   C   D   E   F   G   H   ?яя?яяK   L   M   N   O   P   Q   R   S   ?яяU   V   W   X   Y   Z   [   \   ]   ?яяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяяR o o t   E n t r y                                               яяяяяяяя                               ?[???яя        W o r k s p a c e   S t a t e                                      	      яяяя                                              B r o w s e r                                                          яяяя                                              E d i t o r                                                         яяяяяяяя                                                   РВЅЁОД±ѕОДµµ&C:\Users\dell\Desktop\РВЅЁОД±ѕОДµµ.dsp                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ? РЏ???л\1800730136 wei peng\1800730136.c(126) : warning C4013: 'mine_count' undefined; assuming extern returning int
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ? РЏ???л\1800730136 wei peng\1800730136.c(126) : warning C4013: 'mine_count' undefined; assuming extern returning int
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           MLJL                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ? РЏ???л\1800730136 wei peng\1800730136.c(126) : warning C4013: 'mine_count' undefined; assuming extern returning int
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         W o r k s p a c e   W i n d o w                                 "    яяяяяяяя                                    !          I P I _ °eъ^‡e,g‡ech                                              яяяяяяяяяяяя                                    +          I P I _                                                         
  яяяяяяяяяяяя                                    5          C l a s s V i e w   W i n d o w                                 "  яяяяяяяяяяяя                                    ?            РВЅЁОД±ѕОДµµ	ClassView<EOR><EOR><EOR>РВЅЁОД±ѕОДµµ classes<EOR>РВЅЁОД±ѕОДµµ classes<EOR>FileView<EOR>№¤ЧчЗш 'РВЅЁОД±ѕОДµµ': 1 №¤іМ<EOR><EOR>№¤ЧчЗш 'РВЅЁОД±ѕОДµµ': 1 №¤іМ<EOR>РВЅЁОД±ѕОДµµ files<EOR><EOR>	ClassView<EOR>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ? РЏ???л\1800730136 wei peng\1800730136.c(126) : warning C4013: 'mine_count' undefined; assuming extern returning int
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         `?     РВЅЁОД±ѕОДµµ - Win32 DebugРВЅЁОД±ѕОДµµ.dsp  CProjectРВЅЁОД±ѕОДµµ - Win32 DebugРВЅЁОД±ѕОДµµ - Win32 Release   Ђ        РВЅЁОД±ѕОДµµ - Win32 Debug   Ђ       ?       SSBR   CTargetItemРВЅЁОД±ѕОДµµ - Win32 Debug    SSBRDJWDJW                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  #include <stdio.h>
#include <time.h>  //»сµГК±јд
#include <string.h>
#include <stdlib.h>
#define s sizeof(struct user)
#define ROW 10
#define COL 10
struct user
{
	char name[20];
	int count;
	int time;
	int age;

}use[20];
void information(int b)
{
	int i, k = 0;
	FILE *fp;/*¶ЁТеОДјюЦёХл*/
	if ((fp = fopen("a.txt", "a+")) == NULL)/*ґтїЄЦё¶ЁОДјю*/
	{
		printf("ґтїЄК§°Ь\n");
		exit(0);//return;
	}
	while (!feof(fp))//јмІйОДјюЅбКш
	{
		if (fread(&use[k], s, 1, fp) == 1)
			k++;/*НіјЖµ±З°јЗВјМхКэ*/
	}
	fclose(fp);
	if ((fp = fopen("a.txt", "wb")) == NULL)
	{
		printf("ґтїЄК§°Ь\n");
		exit(0);//return;
	}

	for (i = 0;i<k;i++)
	{
		fwrite(&use[i], s, 1, fp);//ПтЦё¶ЁµДґЕЕМОДјюРґИлРЕПў
	}
	  printf("\n РХГы:  ДкБд:  АЧКэ:  К±јд:  \n");
      scanf("%s",use[k].name);
	for(i=0;i<k;i++)
	  {if(use[i].name==use[k].name)
	    {
	    printf("ґЛГыЧЦТСґжФЪ!");
	   
	    fclose(fp);
	    return;
	    }
	  }
    scanf("%d",&use[k].age);
	scanf("%d",&use[k].count);
	scanf("%d",&use[k].time);
  
	if(fwrite(&use[k],s,1,fp)!=1)/*Ѕ«РВВјИлµДРЕПўРґИлЦё¶ЁµДґЕЕМОДјю*/
     {
		 printf("ґжИЎК§°Ь!");
       
	 }
     else
	 {
		 
		 k++;
	 }
  
  fclose(fp);
  
}
void output()
{  int i,k=0;
   FILE *fp;
   fp=fopen("a.txt","rb");
   while(!feof(fp))
   {
   if(fread(&use[k] ,s,1,fp)==1) 
   k++;
   }  
   fclose(fp);
   printf(" РХГы  ДкБд  АЧКэ  К±јд\n");
   printf("-------------------------------------\n");
   for(i=0;i<k;i++)
   { 
	   printf("%s    %d   %d  %d  ",use[i].name,use[i].age,use[i].count,use[i].time);
       printf("\n"); 
   }
}
int mine_count(char board[ROW + 2][COL + 2], int row, int col) //НіјЖКЈУа*µДКэДї

{

	int count = 0;

	for (int i = 1; i < (row - 1); i++)

	{

		for (int j = 1; j < (col - 1); j++)

		{

			if (board[i][j] == '*')

				count++;

		}

	}

	return count;

}


int mine_num(char mine[ROW + 2][COL + 2], int x, int y)//НіјЖДіёцО»ЦГАЧµДёцКэ
{
	return ((mine[x - 1][y - 1] - '0') + (mine[x][y + 1] - '0') + (mine[x + 1][y + 1] - '0') + (mine[x - 1][y] - '0')
		+ (mine[x][y - 1] - '0') + (mine[x + 1][y] - '0') + (mine[x + 1][y - 1] - '0') + (mine[x - 1][y + 1] - '0'));

}
void spread_board(char board[ROW + 2][COL + 2], char mine[ROW + 2][COL + 2], int x, int y)
{
	if ((1 <= x && x <= 10) && (1 <= y && y <= 10) && (mine[x][y] != '1') && (board[x][y] == '*'))
	{
		if (mine_num(mine, x, y)>0)
		{
			board[x][y] = mine_num(mine, x, y) + '0';
		}
		else
		{
			board[x][y] = ' ';
			spread_board(board, mine, x - 1, y - 1);
			spread_board(board, mine, x - 1, y);
			spread_board(board, mine, x - 1, y + 1);
			spread_board(board, mine, x, y + 1);
			spread_board(board, mine, x + 1, y + 1);
			spread_board(board, mine, x + 1, y);
			spread_board(board, mine, x + 1, y - 1);
			spread_board(board, mine, x, y - 1);


		}
	}
}
void set_mine(char mine[ROW + 2][COL + 2], int row, int col, int num)
{
	int i = 0;
	srand((unsigned int)(time)(NULL));/*ТФПЦФЪµДПµНіК±јдЧчОЄЛж»ъКэµДЦЦЧУАґІъЙъЛж»ъКэЈЎ
									  ЦБУЪNULLХвёцІОКэЎЈЦ»УРЙиЦГіЙNULLІЕДЬ»сµГПµНіµДК±јдЈЎФЪµчУГrandЈЁЈ©ХвёцєЇКэЦ®З°К№УГ*/
	for (i = 0; i<num; i++)
	{
		int x = rand() % (row - 2) + 1;
		int y = rand() % (col - 2) + 1;
		if (mine[x][y] == '0')
		{
			mine[x][y] = '1';
		}
		else
		{
			i--;
		}
	}
}

void menu()
{
	printf("**********************\n");
	printf("***   1.їЄКјУОП·   ***\n");
	printf("***   2.НЛіцУОП·   ***\n");
	printf("***   3.УГ»§РЕПў   ***\n");
	printf("**********************\n");
	printf("   ЗлСЎФсЅУПВАґµДВ·ПЯ:> ");
}
void print_board(char board[ROW + 2][COL + 2], int row, int col)
{
	printf("\n");
	int i = 0;
	printf("   1 2 3 4 5 6 7 8 9 10\n");
	for (i = 1; i<row - 1; i++)
	{
		int j = 0;
		printf("%d", i);
		if (i != 10)
			printf(" ");
		for (j = 1; j<(col - 1); j++)
		{
			printf("%2c", board[i][j]);
		}
		printf("\n");
	}
}
int my_game()    //УОП·ЦчМе2
{
	char a[20];
	int begin, end;//јЖК±
	int x = 0, y = 0;
	int count = 0;//КЈУаАЧКэ
	int num = 0;
	char mine[ROW + 2][COL + 2];//¶ЁТеАЧЗшЈ¬ёъГФОнЗш
	char board[ROW + 2][COL + 2];
	char q;
	//іхКј»ЇАЧЗшЈ¬ГФОнЗш
	memset(mine, '0', sizeof(mine));//Аґ¶ФТ»¶ОДЪґжїХјдИ«ІїЙиЦГОЄДіёцЧЦ·ыЈ¬Т»°гУГФЪ¶Ф¶ЁТеµДЧЦ·ыґ®ЅшРРіхКј»ЇОЄЎ® ЎЇ»тЎ®/0ЎЇ
	memset(board, '*', sizeof(board));
	//ІјАЧ
	printf("ЗлКдИлАЧКэЈє>");
	scanf("%d", &num);
	begin = time(NULL);
	set_mine(mine, (ROW + 2), (COL + 2), num);//3
											  //ґтУЎГФОнЗш
	print_board(board, (ROW + 2), (COL + 2));//4
	while (1)
	{
		//ЕР¶ПКЗ·сК¤Аы
		count = mine_count(board, (ROW + 2), (COL + 2));
		if (count == num)
		{
			printf("№§ПІДгЈ¬іЙ№¦µДЕЕµфБЛЛщУРµДАЧЈЎЈЎЈЎ\n");
			end = time(NULL);//clock();	//јЖК±ЅбКш
			printf("\n\nRunning TimeЈє%dms\n", end - begin);
			return (end - begin);
			break;
		}
		//КдИлЧш±кЈ¬Н¬К±ЕР¶ПЧш±кКЗ·сФЪєП·Ё·¶О§ДЪ
		printf("please input (x,y)");
		scanf("%d",&y);
		scanf("%c",&q);
		scanf("%d",&x);
		if (x<1||x>10||y>10||y<1)
		{
			printf("ДгКдИлµДЧш±кі¬іц·¶О§ЈЎ\n");
		}
		if ((x >= 1 && x <= 10) && (y <= 10 && y >= 1))
		{
			if (mine[x][y] == '1')
			{
				printf("sorry,ДгІИµЅАЧЈ¬ЗлЈЎФЩЅУФЩАч \n");
				end = time(NULL);//clock();	//јЖК±ЅбКш
				printf("\nRunning TimeЈє%ds\n", end - begin);
				return -(end - begin);

				break;
			}
			else
			{
				spread_board(board, mine, x, y);
				print_board(board, (ROW + 2), (COL + 2));
			}
		}

	}
}


int main()
{
	int input = 0,b=0,a;
	do
	{

		menu();
		scanf("%d", &input);
		switch (input)
		{
		case 1:b=my_game();break;//1
		case 2:printf("НЛіцУОП·ЎЈ\n");break;
		case 3:output();break;
		default:printf("\nКдИлґнОуЈ¬ЗлЦШРВКдИлЈЎЈЎ\n");break;
		}
		if(b!=0)
		information(b);
		printf("КЗ·сЗеЖБ,1/0\n");
			scanf("%d",&a);
			if(a==1)
				system("cls");
	} while (input != 2);
	return 0;
}                                                                                                                                                                         